WEBVTT

00:00:01.380 --> 00:00:05.740
AMBER HINDS :
Journée de l'accessibilité WordPress 2023 : une recette

00:00:05.740 --> 00:00:10.330
pour un bloc accordéon accessible
avec les orateurs, Aurooba Ahmed,

00:00:10.330 --> 00:00:15.450
Développeur Web, Aurooba Makes et
Brian Coords, développeur WordPress.

00:00:15.450 --> 00:00:19.110
Cette présentation a été
enregistrée le 28 septembre 2023.

00:00:19.110 --> 00:00:22.580
JULIE JOHNSON : Bienvenue à
la Journée de l'accessibilité de WordPress.

00:00:22.580 --> 00:00:24.290
Je m'appelle Julie Johnson.

00:00:24.290 --> 00:00:27.580
Je suis un
spécialiste de l'accessibilité e-Learning,

00:00:27.580 --> 00:00:32.450
et j'aide à gérer une plateforme appelée
Integrate Trauma Informed Network.

00:00:32.450 --> 00:00:36.490
Merci donc de
nous rejoindre pour cette conférence de Aurooba Ahmed

00:00:36.490 --> 00:00:42.330
et Brian Coords sur
les blocs accordéon accessibles.

00:00:42.330 --> 00:00:45.920
Alors Aurooba [Inaudible 00:45]

00:00:45.920 --> 00:00:49.680
une décennie d'expérience dans la création
de projets WordPress sur mesure

00:00:49.680 --> 00:00:52.360
aussi bien pour des petits plugins WordPress
open source

00:00:52.360 --> 00:00:55.590
que des grandes plateformes communautaires personnalisées.

00:00:55.590 --> 00:01:00.290
Elle est également co-animatrice de View Source,
une émission hebdomadaire sur le développement WordPress,

00:01:00.290 --> 00:01:04.100
et co-créateur du
framework Open Source Tangent.

00:01:04.100 --> 00:01:06.710
Originaire de Calgary, au Canada,
vous la trouverez absorbée dans la lecture

00:01:06.710 --> 00:01:09.080
d'un bon livre ou
en randonnée dans les Rocheuses

00:01:09.080 --> 00:01:12.020
quand elle n'est pas plongée dans les composants de son ordinateur.

00:01:13.270 --> 00:01:14.510
Un peu plus sur Brian.

00:01:16.440 --> 00:01:19.660
Brian Coords est un
développeur, auteur et instructeur WordPress.

00:01:19.660 --> 00:01:21.950
Dans son travail quotidien,
Brian est directeur de la technologie

00:01:21.950 --> 00:01:25.080
chez WordPress Development
Agency, HDC.

00:01:25.080 --> 00:01:28.330
En dehors de son travail, il co-anime une
émission hebdomadaire sur le développement WordPress.

00:01:28.330 --> 00:01:29.680
appelée Afficher la source.

00:01:29.680 --> 00:01:34.210
Vous pouvez également trouver ses articles dans
des publications industrielles comme Master WP,

00:01:34.210 --> 00:01:41.640
The WP Minute,
et son blog technologique personnel.

00:01:42.980 --> 00:01:46.990
Alors n'hésitez pas à ajouter vos
questions à la section Zoom Q&amp;A.

00:01:46.990 --> 00:01:49.350
et nous y répondrons
à la fin de la session.

00:01:49.350 --> 00:01:54.920
Utilisez le chat sur les commentaires et n'hésitez
pas à vous connecter avec d'autres participants.

00:01:54.920 --> 00:01:56.160
Revenons à Aurooba et Brian.

00:01:56.160 --> 00:02:02.900
AUROOBA AHMED : Très
bien, alors bonjour à tous.

00:02:02.900 --> 00:02:07.800
Brian et moi sommes très excités
d'aborder ce sujet avec vous tous.

00:02:07.800 --> 00:02:09.620
Blocs accordéon accessibles.

00:02:09.620 --> 00:02:12.270
Une recette pour
des blocs accordéon accessibles.

00:02:12.270 --> 00:02:18.690
Nous allons commencer par
parler et explorer

00:02:18.690 --> 00:02:23.280
ce qu'est réellement un accordéon et
ce qui le rend accessible.

00:02:23.280 --> 00:02:27.100
Une fois que nous aurons établi cela, nous
plongerons dans le code

00:02:27.100 --> 00:02:30.331
qui amène cet accordéon
à la fois à l'avant

00:02:30.332 --> 00:02:31.980
et à l'éditeur de blocs.

00:02:31.980 --> 00:02:34.960
Alors Brian, qu'est-ce qu'un accordéon ?

00:02:36.140 --> 00:02:36.940
BRIAN COORDS : Merci, Aurooba.

00:02:36.940 --> 00:02:39.940
Je vais donc commencer par
la définition du dictionnaire

00:02:39.940 --> 00:02:42.030
et ensuite nous allons
creuser un peu.

00:02:42.030 --> 00:02:46.040
En termes de développement
et de conception Web, un accordéon est,

00:02:46.040 --> 00:02:49.460
comme vous le voyez ici, un ensemble de
panneaux pliables qui peuvent être utilisés

00:02:49.460 --> 00:02:51.830
pour afficher et masquer le contenu.

00:02:51.830 --> 00:02:55.310
Cela semble assez vague, mais nous
pouvons aller un peu plus loin, je pense.

00:02:55.310 --> 00:02:57.860
Quand on pense à un accordéon,
la première chose que l'on veut

00:02:57.860 --> 00:02:59.850
il faut penser que
c'est un groupe d'éléments.

00:02:59.850 --> 00:03:03.350
Ce n'est pas juste un élément de contenu
qui est affiché ou masqué,

00:03:03.350 --> 00:03:04.000
c'est un groupe.

00:03:04.000 --> 00:03:08.370
Vous pouvez donc voir ici que nous avons
plusieurs sections dans notre accordéon

00:03:08.370 --> 00:03:11.690
et chacune de ces sections a
un en-tête, c'est quelque chose

00:03:11.690 --> 00:03:13.030
avec lequel vous pouvez interagir.

00:03:13.030 --> 00:03:15.969
Et vous pouvez sélectionner,
et une fois que vous l'avez sélectionné,

00:03:15.970 --> 00:03:17.840
le panneau, pour utiliser le terme,

00:03:17.840 --> 00:03:20.980
c'est ce genre de contenu ci-dessous
qui va être affiché ou masqué.

00:03:20.980 --> 00:03:24.030
C'est donc un modèle assez courant.

00:03:24.030 --> 00:03:28.170
Un de ceux que l'on reconnaît quand on
voit ce type d'éléments de conception.

00:03:28.170 --> 00:03:31.258
Si vous avez passé du temps
à créer des sites Web WordPress

00:03:31.259 --> 00:03:33.960
vous en avez probablement construit
plusieurs.

00:03:33.960 --> 00:03:38.500
Mais parfois, on peut se tromper un peu
avec la sémantique.

00:03:38.500 --> 00:03:41.780
C'est donc l'une des
choses que nous étudions de près.

00:03:41.780 --> 00:03:45.420
Mais parlons très vite
de ce qu'un accordéon n'est pas.

00:03:45.420 --> 00:03:48.940
Et ce sera quelque chose
appelé l'élément détails en HTML.

00:03:48.940 --> 00:03:52.200
Il existe donc un élément
appelé élément de détails.

00:03:52.200 --> 00:03:55.650
Et c'est un
élément sémantique très important et utile.

00:03:55.650 --> 00:04:00.340
et le noyau WordPress a récemment
créé un bloc de détails

00:04:00.340 --> 00:04:02.850
dans l'éditeur de blocs
que vous pouvez utiliser.

00:04:02.850 --> 00:04:07.060
Et c'est très pratique,
c'est accessible, c'est sémantique.

00:04:07.060 --> 00:04:11.070
Le problème c'est que ce n'est pas
techniquement un accordéon au sens où

00:04:11.070 --> 00:04:12.520
de la façon dont un accordéon est défini.

00:04:13.770 --> 00:04:17.440
Il y a quelques différences
entre ce que vous pouvez faire

00:04:17.440 --> 00:04:20.040
avec un élément de détails et ce que
l'on peut faire avec un accordéon.

00:04:20.040 --> 00:04:23.850
Et je pense que les deux sur lesquels nous nous concentrerions
principalement sont le numéro un ;

00:04:25.240 --> 00:04:28.930
les éléments de détails ne sont pas regroupés,
ils sont indépendants.

00:04:28.930 --> 00:04:30.840
Ils existent simplement comme
leur propre élément.

00:04:30.840 --> 00:04:33.990
Vous pouvez donc voir ici que nous avons
deux éléments de détails différents.

00:04:33.990 --> 00:04:34.770
Vous pouvez les étendre.

00:04:34.770 --> 00:04:37.860
Vous pouvez les réduire, mais ils
ne fonctionnent pas vraiment ensemble.

00:04:37.860 --> 00:04:41.420
La plupart du temps, le
motif en accordéon répond aux attentes.

00:04:41.420 --> 00:04:44.300
que par exemple,
effondrer un accordéon

00:04:44.300 --> 00:04:46.980
ou agrandir un accordéon
réduit les autres.

00:04:46.980 --> 00:04:51.760
Ou beaucoup de spécifications de conception veulent
qu'un accordéon soit toujours ouvert.

00:04:51.760 --> 00:04:54.670
Vous ne pouvez donc jamais les fermer.

00:04:54.670 --> 00:04:57.290
Vous pouvez toujours en avoir au moins
un visible à tout moment.

00:04:57.290 --> 00:04:58.750
Il y a donc quelques
distinctions différentes.

00:04:58.750 --> 00:05:03.790
L'autre est cette
barre verte, le niveau supérieur

00:05:03.790 --> 00:05:06.490
de l'élément de détails est
appelé la balise de résumé.

00:05:06.490 --> 00:05:11.550
Et c'est l'élément sélectionnable
qui va basculer la visibilité

00:05:11.550 --> 00:05:12.200
du contenu.

00:05:12.200 --> 00:05:18.470
Or, dans un accordéon, on a très
souvent envie d'utiliser une en-tête sémantique

00:05:18.470 --> 00:05:21.340
parce que nous voulons
une hiérarchie dans notre contenu.

00:05:21.340 --> 00:05:25.450
Ceci est un titre et voici du
contenu sous ce titre.

00:05:25.450 --> 00:05:28.250
Mais avec l'élément de détails,
c'est très plat.

00:05:28.250 --> 00:05:30.850
Vous pouvez faire des choses comme
le styliser, mais ce n'est pas vraiment

00:05:30.850 --> 00:05:34.090
c'est exactement la même chose que
de modifier structurellement l'élément d'en-tête.

00:05:34.090 --> 00:05:36.680
Mais la façon dont
fonctionne l'élément détails,

00:05:36.680 --> 00:05:40.150
physiquement, vous ne pouvez
rien mettre dedans, sauf

00:05:40.150 --> 00:05:41.620
pour le texte.

00:05:41.620 --> 00:05:44.720
C'est donc vraiment une
différence structurelle.

00:05:44.720 --> 00:05:47.430
Les détails sont un élément formidable,
c'est génial qu'ils soient au cœur.

00:05:47.430 --> 00:05:49.530
Ce ne sont tout simplement pas des accordéons

00:05:49.530 --> 00:05:52.130
pour le contexte de cette conférence.

00:05:52.130 --> 00:05:57.950
Parlons donc de ce qu'est un
accordéon et, plus important encore,

00:05:57.950 --> 00:05:59.410
ce qui rend accessible.

00:05:59.410 --> 00:06:00.620
Alors, Aurooba, je te redonne la parole.

00:06:00.620 --> 00:06:02.470
AUROOBA : Oui.

00:06:02.470 --> 00:06:05.800
Donc, essentiellement,
maintenant que nous savons, par exemple,

00:06:05.800 --> 00:06:08.965
l'élément de détails
n'est pas un accordéon,

00:06:08.966 --> 00:06:11.280
mais un accordéon c'est quelque chose

00:06:11.280 --> 00:06:14.942
qui développe et
réduit l'information,

00:06:14.943 --> 00:06:17.780
il y a essentiellement quatre choses,

00:06:17.780 --> 00:06:21.760
une liste de quatre conditions à vérifier et

00:06:21.760 --> 00:06:26.350
valider afin de rendre
un accordéon accessible.

00:06:26.350 --> 00:06:29.890
La toute première est qu'il
doit pouvoir être utilisé avec un clavier.

00:06:29.890 --> 00:06:35.260
Alors, pouvez-vous naviguer dans les
sections d'accordéon et le contenu

00:06:35.260 --> 00:06:39.550
qui compose le panneau pour
chaque section avec votre clavier ?

00:06:39.550 --> 00:06:43.270
Ce qui est vraiment génial dans tout ça,
c'est qu'une fois que vous commencez

00:06:43.270 --> 00:06:45.690
à rendre quelque chose
de navigable au clavier, vous êtes en bonne voie pour

00:06:45.690 --> 00:06:51.460
le rendre accessible
également à d'autres appareils d'assistance,

00:06:51.460 --> 00:06:53.760
qui est l'autre chose
dont nous voulons nous assurer

00:06:53.760 --> 00:06:57.660
que notre accordéon est capable,
à savoir que les appareils d'assistance

00:06:57.660 --> 00:07:00.940
peuvent naviguer dans notre contenu en accordéon.

00:07:00.940 --> 00:07:01.940
Alors, voilà le truc.

00:07:02.990 --> 00:07:05.250
Pensez au moment où vous
utilisez un accordéon.

00:07:05.250 --> 00:07:07.070
La plupart du temps, lorsque
vous avez un accordéon

00:07:07.070 --> 00:07:11.050
qui comporte plusieurs sections,
vous avez beaucoup de contenu dedans.

00:07:11.050 --> 00:07:14.590
Donc, pour un lecteur d'écran ou
un autre appareil d'assistance,

00:07:14.590 --> 00:07:17.040
un accordéon accessible va
pouvoir décrire

00:07:17.040 --> 00:07:20.830
ce que sont ces sections en accordéon
et ensuite les aider à passer

00:07:20.830 --> 00:07:24.780
à la section qu'ils souhaitent
explorer et dont ils souhaitent lire

00:07:24.780 --> 00:07:26.860
ou comprendre le contenu.

00:07:26.860 --> 00:07:30.450
Et pour ce faire,
nous avons besoin de quelques considérations

00:07:30.450 --> 00:07:31.660
à prendre en compte.

00:07:32.900 --> 00:07:34.830
La prochaine chose dont nous voulons nous assurer
est, bien sûr, vous savez,

00:07:34.830 --> 00:07:36.440
c'est sur le Web numérique.

00:07:36.440 --> 00:07:38.810
Nous voulons donc nous assurer que
notre accordéon est responsive.

00:07:38.810 --> 00:07:39.980
Ça marche au téléphone.

00:07:39.980 --> 00:07:41.050
Cela fonctionne sur un ordinateur de bureau.

00:07:41.050 --> 00:07:44.100
Cela fonctionne
également sur tous les écrans intermédiaires.

00:07:44.100 --> 00:07:47.070
Et enfin, nous voulons nous
assurer que l'accordéon

00:07:47.070 --> 00:07:49.880
est visuellement conçu comme un accordéon.

00:07:49.880 --> 00:07:51.751
Nous voulons donc nous assurer de concevoir

00:07:51.752 --> 00:07:54.090
l'accessibilité
de manière très holistique.

00:07:54.090 --> 00:07:58.250
Nous pensons donc aux
lecteurs d'écran et nous pensons à

00:07:58.250 --> 00:08:01.750
à quoi cela ressemble visuellement et comment
quelqu'un pourrait l'utiliser en fonction

00:08:01.750 --> 00:08:04.560
des différentes capacités motrices
qui leur sont accessibles.

00:08:04.560 --> 00:08:07.950
En veillant à
styliser visuellement un accordéon –

00:08:07.950 --> 00:08:10.290
et c'est un
modèle très courant que nous voyons –

00:08:10.290 --> 00:08:14.740
nous nous assurons par exemple que l'en-tête
de l'accordéon comporte un indicateur

00:08:14.740 --> 00:08:17.900
qui nous aide à identifier
si le contenu relié

00:08:17.900 --> 00:08:20.730
à cet en-tête est caché
ou n'est pas caché.

00:08:20.730 --> 00:08:24.560
Parfois, vous verrez un
petit triangle qui tourne

00:08:24.560 --> 00:08:28.470
lorsque vous ouvrez le
panneau accordéon ou un plus qui se change

00:08:28.470 --> 00:08:30.550
en moins, des choses comme ça.

00:08:30.550 --> 00:08:34.550
Ce sont des éléments vraiment très importants
pour s'assurer

00:08:34.550 --> 00:08:39.360
que visuellement parlant quelqu'un peut
dire que oui, c'est du contenu

00:08:39.360 --> 00:08:43.140
et si je clique dessus, cela va
révéler encore plus de contenu.

00:08:43.140 --> 00:08:47.020
Maintenant que nous comprenons
essentiellement ce qu'est un accordéon

00:08:47.020 --> 00:08:51.730
et ce que nous devons faire pour
rendre un accordéon accessible,

00:08:51.730 --> 00:08:53.709
Brian, tu veux partager avec nous

00:08:53.710 --> 00:08:55.970
à quoi ça ressemble
sur le front-end ?

00:08:57.140 --> 00:09:00.110
BRIAN : Oui, donc je vais
faire un partage d'écran rapide

00:09:00.110 --> 00:09:02.300
d'un environnement de développement local.

00:09:02.300 --> 00:09:04.810
Donc pour un petit contexte,
ce que nous avons fait

00:09:04.810 --> 00:09:06.960
pour cette présentation,
nous avons en fait codé

00:09:06.960 --> 00:09:11.980
un bloc WordPress Gutenberg qui est
un accordéon que vous pouvez télécharger.

00:09:11.980 --> 00:09:15.740
Le code sera disponible sur
GitHub, il y a des liens vers celui-ci.

00:09:15.740 --> 00:09:17.730
Et vous pouvez l'utiliser comme
votre propre point de départ

00:09:17.730 --> 00:09:19.700
ou vous pouvez simplement l'utiliser
vous-même, mais nous allons

00:09:19.700 --> 00:09:23.870
pour avoir une vue d'ensemble du
type de considérations qui entrent en jeu

00:09:23.870 --> 00:09:26.030
lorsque vous construisez ce
bloc parce que comme je l'ai dit,

00:09:26.030 --> 00:09:27.640
ce n'est pas vraiment un bloc de base.

00:09:27.640 --> 00:09:31.520
J'ai donc ce petit
environnement de développement local en cours d'exécution.

00:09:31.520 --> 00:09:35.780
Il a son thème WordPress par défaut
et cet article Hello World par défaut

00:09:35.780 --> 00:09:38.740
et nous avons ici du contenu
où j'ai ajouté

00:09:38.740 --> 00:09:40.550
trois sections d'accordéon différentes.

00:09:40.550 --> 00:09:43.650
Donc un accordéon avec trois
sections uniques.

00:09:43.650 --> 00:09:48.560
Et chacune fonctionne et me permet
de sélectionner cette zone d'en-tête.

00:09:48.560 --> 00:09:51.830
Et ce faisant,
développer le panneau de contenu à l'intérieur.

00:09:53.380 --> 00:09:56.830
Si je passe à une autre section
et que je clique sur l'en-tête

00:09:56.830 --> 00:09:59.440
le zoom du panneau s'agrandit et
les autres panneaux se réduisent.

00:09:59.440 --> 00:10:05.640
Donc fonctionnellement, ça semble
marcher et ça donne la sensation d'un accordéon.

00:10:05.640 --> 00:10:09.330
L'autre élément important
est la navigation au clavier

00:10:09.330 --> 00:10:11.160
ou avec une technologie d'assistance.

00:10:11.160 --> 00:10:15.060
Donc, si je parcours le
site, j'active

00:10:15.060 --> 00:10:17.300
certains des styles par défaut
de ce thème WordPress.

00:10:17.300 --> 00:10:19.200
Je pense qu'il s'agit de 2023.

00:10:19.200 --> 00:10:22.380
Si j'arrive là,
je suis arrivé à ce panneau,

00:10:22.380 --> 00:10:25.160
vous pouvez voir que l'
indicateur de focus apparaît.

00:10:25.160 --> 00:10:29.200
Je peux cliquer et développer
ce contenu.

00:10:29.200 --> 00:10:32.320
Et puis je peux continuer à
naviguer dans le contenu lui-même.

00:10:32.320 --> 00:10:34.400
Donc c'est vraiment important.

00:10:34.400 --> 00:10:36.690
Si je suis à l'intérieur de ça,
je vais vouloir naviguer

00:10:36.690 --> 00:10:38.010
à travers ce contenu.

00:10:38.010 --> 00:10:39.870
Si je ne le suis pas, si je l'ai fermé,
je veux pouvoir

00:10:39.870 --> 00:10:41.580
pour passer à
la section suivante.

00:10:41.580 --> 00:10:46.060
Donc toutes ces considérations
constituent de ce que nous allons

00:10:46.060 --> 00:10:50.180
à avoir sur le front-end de notre site
pour un élément d'accordéon sémantique.

00:10:50.180 --> 00:10:53.770
Je vais ensuite revenir à
cette présentation et nous allons

00:10:53.770 --> 00:10:57.040
pour examiner un peu plus en profondeur
une partie du HTML

00:10:57.040 --> 00:10:58.460
qui crée cette vue de face.

00:10:59.740 --> 00:11:02.960
OK, c'est donc ce que l'on
ressent fonctionnellement.

00:11:02.960 --> 00:11:06.480
Parlons de ce que cela
représente en termes de HTML.

00:11:06.480 --> 00:11:08.770
Nous allons donc
construire un bloc.

00:11:08.770 --> 00:11:13.620
Notre bloc va avoir un wrapper
div qui est essentiellement l'accordéon.

00:11:13.620 --> 00:11:18.120
Vous pouvez donc voir sur l'écran
et nous avons également ce code

00:11:18.120 --> 00:11:19.300
dans la présentation.

00:11:19.300 --> 00:11:21.890
Mais essentiellement,
nous allons avoir un div wrapper,

00:11:21.890 --> 00:11:25.520
cette classe aura
ce préfixe wp-block dessus

00:11:25.520 --> 00:11:28.090
car ce sont des blocs
qui sortent de l'éditeur de blocs.

00:11:28.090 --> 00:11:32.720
Et nous avons ce
cours d'accordéon pour ce wrapper.

00:11:32.720 --> 00:11:35.070
Et puis à l'intérieur, nous allons
avoir plusieurs divs, un div

00:11:35.070 --> 00:11:37.050
pour chaque section de l'accordéon.

00:11:37.050 --> 00:11:39.980
Et c'est parce que ce sont
des blocs individuels dans WordPress.

00:11:39.980 --> 00:11:42.350
Et nous allons voir
pourquoi ces blocs sont différents

00:11:42.350 --> 00:11:44.010
et comment ça marche.

00:11:44.010 --> 00:11:47.570
À l'intérieur de chaque section,
il y a en réalité deux parties clés.

00:11:47.570 --> 00:11:51.270
Nous zoomons donc sur une section
de l'accordéon, un en-tête,

00:11:51.270 --> 00:11:52.270
un panneau.

00:11:53.000 --> 00:11:56.290
Et vous pouvez voir ici que nous
avons essentiellement la section.

00:11:56.290 --> 00:12:00.520
Nous avons un
élément de titre, un H2.

00:12:00.520 --> 00:12:04.540
À l'intérieur de cet élément de titre,
nous avons un élément bouton.

00:12:04.540 --> 00:12:06.030
et c'est vraiment important.

00:12:06.030 --> 00:12:09.280
Je pense que si vous êtes quelqu'un
qui a construit beaucoup d'accordéons

00:12:09.280 --> 00:12:14.570
à partir de zéro, vous pourriez être
confus quant à ce que fait le titre

00:12:14.570 --> 00:12:18.340
par rapport à ce que fait l'en-tête,
qui est le nom réel

00:12:18.340 --> 00:12:20.030
pour l'ensemble du panel.

00:12:20.030 --> 00:12:22.280
Nous avons donc le bouton.

00:12:22.280 --> 00:12:24.330
Nous avons des attributs Aria.

00:12:24.330 --> 00:12:27.100
Par exemple, aria-expanded,
cela va nous permettre de savoir

00:12:27.100 --> 00:12:28.968
lorsque nous atteignons ce
bouton, si le contenu

00:12:28.969 --> 00:12:30.670
qu'il contrôle est développé ou non.

00:12:30.670 --> 00:12:32.040
Nous allons avoir un identifiant unique.

00:12:32.040 --> 00:12:34.824
Nous allons avoir cet
attribut aria-control

00:12:34.825 --> 00:12:39.370
cela sera lié à l'identifiant
d'un panneau div plus bas.

00:12:39.370 --> 00:12:42.940
Et puis vous verrez à partir
de la ligne 13, nous avons un autre div.

00:12:42.940 --> 00:12:45.040
Ce sera
cette section du panneau.

00:12:45.040 --> 00:12:48.480
Et de la même manière, il aura
tous les bons attributs,

00:12:48.480 --> 00:12:52.160
y compris l'aria-labelledby qui
fait référence à l'ID de ce bouton.

00:12:53.250 --> 00:12:55.570
Et puis aussi la classe
pour ce panel d'accordéon.

00:12:55.570 --> 00:12:59.660
Et je pense que ce qui est le plus important
ici, outre le fait

00:12:59.660 --> 00:13:05.210
que c'est le bouton et le panneau
qui sont vraiment les plus importants

00:13:05.210 --> 00:13:07.810
et ces deux-là ont beaucoup d'attributs
qui se connectent

00:13:07.810 --> 00:13:12.060
les uns aux autres, et puis parce que c'est
un accordéon et que nous possédons le balisage,

00:13:12.060 --> 00:13:15.240
nous pouvons envelopper ce bouton
dans un paragraphe H2 et H3,

00:13:15.240 --> 00:13:18.880
celon ce dont on a besoin pour
afficher au mieux le contenu de notre page.

00:13:20.100 --> 00:13:21.770
Voilà donc le HTML frontal.

00:13:21.770 --> 00:13:24.620
AUROOBA, tu vas
nous faire découvrir JavaScript

00:13:24.620 --> 00:13:25.820
et comment cela fonctionne
avec un accordéon.

00:13:25.820 --> 00:13:27.500
AUROOBA : Oui.

00:13:27.500 --> 00:13:32.550
Alors maintenant que nous avons rassemblé tous les éléments
correctement dans le HTML,

00:13:32.550 --> 00:13:35.760
nous devons saupoudrer un peu
de JavaScript et un peu

00:13:35.760 --> 00:13:38.930
de CSS pour rendre cet
accordéon vraiment interactif.

00:13:38.930 --> 00:13:42.320
Nous voulons utiliser les
attributs Aria qui se trouvent dans le code HTML

00:13:42.320 --> 00:13:47.500
autant que possible pour
les utiliser comme source d'état.

00:13:47.500 --> 00:13:51.060
Donc, avec JavaScript, ce que nous
allons faire, c'est

00:13:51.060 --> 00:13:55.630
pour écouter les interactions de nos utilisateurs
avec l'ensemble de l'accordéon.

00:13:55.630 --> 00:13:58.710
Maintenant, ce n'est pas tout
le code JavaScript.

00:13:58.710 --> 00:14:01.980
Et ça va être disponible
dans le dépôt, tout le code

00:14:01.980 --> 00:14:03.150
que nous partageons.

00:14:03.150 --> 00:14:05.770
Et tout ce qui l'entoure que
nous ne sommes pas en mesure de partager,

00:14:05.770 --> 00:14:08.080
tout cela sera
disponible pour que vous puissiez jouer avec.

00:14:08.080 --> 00:14:13.119
Mais je voulais faire un point
sur cette partie importante du JavaScript.

00:14:13.120 --> 00:14:17.450
Et ce que nous faisons ici,
c'est chaque fois que quelqu'un clique

00:14:17.450 --> 00:14:19.950
sur une
section accordéon, on dit : Oh, OK,

00:14:19.950 --> 00:14:22.190
donc c'est la
section accordéon sur laquelle vous avez cliqué.

00:14:22.190 --> 00:14:26.970
Ensuite, sur la ligne neuf, ce que nous faisons,
c'est vérifier, est-ce que,

00:14:26.970 --> 00:14:28.390
Section accordéon ouverte ou non.

00:14:28.390 --> 00:14:31.320
Nous vérifions donc cet
attribut aria-expanded.

00:14:31.320 --> 00:14:34.690
Et si ce n'est pas ouvert,
alors ce que nous faisons, c'est, OK, nous voulons

00:14:34.690 --> 00:14:38.730
ouvrir celle-ci, mais avant
cela, n'importe quelle autre section accordéon

00:14:38.730 --> 00:14:41.900
qui est ouverte, nous voulons
les parcourir et nous voulons les fermer.

00:14:41.900 --> 00:14:45.370
Donc, à partir de la ligne 11,
ce que nous faisons, c'est que nous récupérons tous

00:14:45.370 --> 00:14:47.250
les
sections d'accordéon sauf celle

00:14:47.250 --> 00:14:49.940
sur laquelle nous avons cliqué,
et nous allons

00:14:49.940 --> 00:14:53.520
modifier l'attribut aria-expanded
sur chacune de ces sections

00:14:53.520 --> 00:14:54.570
à faux.

00:14:54.570 --> 00:14:58.950
Ensuite,
à la ligne 22, nous ajoutons

00:14:58.950 --> 00:15:03.060
une classe CSS appelée IsSelected ;
cela va être très utile.

00:15:03.060 --> 00:15:07.590
Et nous, bien sûr, changeons celle-ci,
la section d'accordéon actuelle

00:15:07.590 --> 00:15:11.920
avec laquelle nous interagissons, et l'ouvrons en
changeant aria-expanded sur true.

00:15:12.950 --> 00:15:17.900
Donc, une fois que JavaScript a fait
sa petite magie, nous pouvons aller

00:15:17.900 --> 00:15:19.240
dans le CSS.

00:15:19.240 --> 00:15:21.520
Il y a donc deux parties dans le CSS.

00:15:21.520 --> 00:15:27.520
L'une d'entre elles concerne les styles d'en-tête dont
je veux parler en premier.

00:15:27.520 --> 00:15:32.140
Et fondamentalement, cela ressemblera
à n'importe quel type de

00:15:32.140 --> 00:15:35.380
de styles d'en-tête que vous
verrez sur n'importe quel accordéon accessible.

00:15:35.380 --> 00:15:40.530
La raison en est qu'un
en-tête de section en accordéon comporte un bouton.

00:15:40.530 --> 00:15:43.620
dedans, comme Brian
le disait, mais on ne veut presque jamais

00:15:43.620 --> 00:15:45.550
que ça ressemble à un bouton.

00:15:45.550 --> 00:15:48.570
Au lieu de cela,
nous supprimons tous les styles de boutons.

00:15:48.570 --> 00:15:51.840
et dans ce cas particulier,
parce que c'est enveloppé dans un en-tête,

00:15:51.840 --> 00:15:55.390
ce que nous pouvons faire, c'est hériter
de tous les styles de l'élément

00:15:55.390 --> 00:15:56.480
dans lequel il est enveloppé.

00:15:56.480 --> 00:15:59.910
C'est donc ce que vous pouvez voir se produire,
disons, sur les lignes 11 et 12.

00:15:59.910 --> 00:16:04.760
Nous héritons de cette taille de police,
nous héritons de l'alignement du texte.

00:16:04.760 --> 00:16:08.580
Et de cette façon, nous le faisons ressembler à
l'élément principal et non à un bouton,

00:16:08.580 --> 00:16:12.710
mais on conserve toujours les interactions
liées à un bouton dont nous avons besoin.

00:16:12.710 --> 00:16:16.210
Ensuite, comme nous l'avons évoqué dans cette
rubrique, nous voulons nous assurer

00:16:16.210 --> 00:16:19.480
que l'en-tête de l'accordéon soit
correctement stylisé, de manière accessible,

00:16:19.480 --> 00:16:21.610
cela indique qu'il
s'agit d'un accordéon.

00:16:21.610 --> 00:16:23.608
Nous ajoutons donc un pseudo-élément

00:16:23.609 --> 00:16:26.090
qui ajoute un petit
triangle à la fin.

00:16:26.090 --> 00:16:27.432
De cette façon, quelqu'un sait

00:16:27.433 --> 00:16:30.350
que cette section accordéon
est actuellement fermée.

00:16:30.350 --> 00:16:33.440
Cependant,
si la section d'accordéon actuelle

00:16:33.440 --> 00:16:36.810
a l'attribut
aria-expanded défini sur true,

00:16:36.810 --> 00:16:39.010
Ensuite, ce que nous faisons, c'est que nous
ajoutons une petite animation

00:16:39.010 --> 00:16:43.920
et faisons pivoter ce triangle vers le bas
pour indiquer qu'il est ouvert.

00:16:43.920 --> 00:16:49.130
Voilà donc la première partie du CSS
pour une section accordéon accessible.

00:16:49.130 --> 00:16:53.560
La prochaine porte sur le
panneau lui-même, le contenu.

00:16:53.560 --> 00:16:56.520
C'est en fait
du CSS très basique.

00:16:56.520 --> 00:16:59.640
Au départ, nous voulons que
le contenu de ce panneau soit masqué.

00:16:59.640 --> 00:17:03.540
Mais ensuite quand on ajoute cette
classe isSelected avec JavaScript

00:17:03.540 --> 00:17:07.220
dont nous avons parlé,
on rend ce contenu visible simplement

00:17:07.220 --> 00:17:08.500
avec display block.

00:17:08.500 --> 00:17:11.910
Alors, c'est la solution en CSS la plus basique qui
permet d'y arriver.

00:17:11.910 --> 00:17:14.940
Mais bien sûr, vous pouvez faire preuve
de fantaisie, ajouter des transitions,

00:17:14.940 --> 00:17:17.700
vous pourriez ajouter beaucoup
de choses différentes.

00:17:17.700 --> 00:17:20.690
Mais pour faire simple, c'est tout
le CSS dont vous avez besoin

00:17:20.690 --> 00:17:26.030
afin de masquer et de révéler
le contenu du panneau en fonction

00:17:26.030 --> 00:17:28.230
de cet attribut aria-expanded.

00:17:30.570 --> 00:17:34.330
Nous avons donc parlé du
front-end du bloc.

00:17:34.330 --> 00:17:38.080
À quoi ressemble un accordéon accessible
sur le front-end

00:17:38.080 --> 00:17:39.890
avec lequel votre utilisateur va
interagir ?

00:17:39.890 --> 00:17:42.680
Mais maintenant, prenons
du recul regardons

00:17:42.680 --> 00:17:45.160
à quoi cela ressemble dans l'éditeur.

00:17:45.160 --> 00:17:51.560
Pour ce faire, nous allons d'abord
considérer une structure de haut niveau

00:17:51.560 --> 00:17:52.630
de l'accordéon.

00:17:52.630 --> 00:17:55.940
Nous avons donc parlé des
différentes pièces de l'accordéon,

00:17:55.940 --> 00:17:57.840
visualisons cela un peu.

00:17:59.160 --> 00:18:02.810
Vous avez un accordéon,
qui est essentiellement un gros emballage,

00:18:02.810 --> 00:18:05.580
et à l'intérieur,
vous avez une section accordéon.

00:18:05.580 --> 00:18:09.210
Cette section accordéon est le
deuxième niveau, et c'est là que tout

00:18:09.210 --> 00:18:11.600
votre contenu vit réellement.

00:18:11.600 --> 00:18:16.080
Dans cette section accordéon,
vous avez un en-tête qui vous indique

00:18:16.080 --> 00:18:19.380
de quoi parle le contenu de
cette section d'accordéon,

00:18:19.380 --> 00:18:23.360
et ensuite vous avez le
panneau de section accordéon, le vrai contenu

00:18:23.360 --> 00:18:28.240
que nous souhaitons inclure
et partager avec nos utilisateurs.

00:18:28.240 --> 00:18:32.050
Maintenant que nous avons examiné cette
structure de haut niveau, Brian,

00:18:32.050 --> 00:18:34.540
tu veux nous emmener
dans l'éditeur et nous montrer

00:18:34.540 --> 00:18:38.150
à quoi cela ressemble réellement
et lui donner vie ?

00:18:38.150 --> 00:18:40.840
BRIAN : Oui,
donc je vais partager mon écran.

00:18:43.770 --> 00:18:44.150
Et voilà.

00:18:44.150 --> 00:18:48.050
Nous voyons maintenant
le même éditeur de blocs.

00:18:48.050 --> 00:18:49.390
C'est le même
site de développement local.

00:18:49.390 --> 00:18:52.650
Nous sommes juste dans l'éditeur de blocs
pour cette page particulière.

00:18:52.650 --> 00:18:56.770
Et donc il y a quelques choses
que nous voulons mettre en valeur,

00:18:56.770 --> 00:19:00.210
mais pour clarifier sur l'écran
en ce moment, j'ai la vue en liste

00:19:00.210 --> 00:19:02.630
sur le côté gauche de développée,
et la liste nous montre

00:19:02.630 --> 00:19:05.850
quels blocs sont actuellement
sur ce billet de blog.

00:19:05.850 --> 00:19:08.570
Nous avons un bloc de paragraphe,
c'est le texte Hello World par défaut.

00:19:08.570 --> 00:19:11.350
que nous obtenons tous lors de nos
installations initiales de WordPress,

00:19:11.350 --> 00:19:13.400
et puis nous avons
le bloc accordéon.

00:19:13.400 --> 00:19:16.680
Et donc le
bloc accordéon n'est qu'un emballage.

00:19:16.680 --> 00:19:19.840
C'est ce bloc parent, et donc
on va creuser et voir ce que ça signifie

00:19:19.840 --> 00:19:21.280
d'être un bloc parent.

00:19:21.280 --> 00:19:24.740
Mais si je l'agrandis, je peux voir
qu'à l'intérieur de mon accordéon,

00:19:24.740 --> 00:19:27.140
J'ai trois
blocs de sections d'accordéon.

00:19:27.140 --> 00:19:28.973
Et lorsque je sélectionne
l'un de ces blocs,

00:19:28.974 --> 00:19:30.430
un de ces blocs est actif,

00:19:30.430 --> 00:19:33.860
Je peux vraiment voir et
explorer tout le contenu

00:19:33.860 --> 00:19:35.560
qui se trouve à l'intérieur de
ce bloc de section.

00:19:35.560 --> 00:19:40.690
Le panneau s'agrandit donc en partie
en prêtant attention

00:19:40.690 --> 00:19:42.730
à votre expérience d'édition et en s'assurant

00:19:42.730 --> 00:19:47.130
que le contexte est constamment clair
pour savoir ce que vous éditez et où.

00:19:47.130 --> 00:19:51.450
Donc, à l'intérieur de cette section d'accordéon,
à ce moment-là, j'ai carte blanche

00:19:51.450 --> 00:19:54.260
pour que le panneau intègre
les blocs que je veux.

00:19:54.260 --> 00:19:55.900
Je peux ajouter des blocs d'images.

00:19:55.900 --> 00:19:58.220
Je peux y ajouter n'importe quel autre contenu,
et ça va

00:19:58.220 --> 00:20:01.850
d'exister à l'intérieur des
différentes sections d'accordéon. Donc

00:20:04.510 --> 00:20:08.320
c'est là que nous avons commencé
à faire preuve d'ingénuosité pour

00:20:08.320 --> 00:20:10.400
bien gérer notre
expérience d'édition de blocs,

00:20:10.400 --> 00:20:13.273
car c'est une
chose de créer un balisage

00:20:13.274 --> 00:20:15.630
pour le front-end d'un site Web,

00:20:15.630 --> 00:20:17.860
mais il faut aussi vraiment
faire autant d'efforts

00:20:17.860 --> 00:20:20.710
pour les personnes qui vont utiliser
votre contenu, qui vont

00:20:20.710 --> 00:20:23.500
l'éditer, et s'assurer
qu'il soit également accessible.

00:20:23.500 --> 00:20:25.570
Donc, une des choses que nous
avons faites, je vais juste mettre en valeur

00:20:25.570 --> 00:20:27.800
quelques fioritures supplémentaires que nous avons faites.

00:20:27.800 --> 00:20:30.610
Et ce qui est génial,
c'est que nous avons utilisé tous les composants

00:20:30.610 --> 00:20:31.840
depuis l'éditeur de blocs.

00:20:31.840 --> 00:20:33.981
Si vous construisez des blocs personnalisés,

00:20:33.982 --> 00:20:36.500
ce sont toutes des choses
qui sont fournies

00:20:36.500 --> 00:20:40.070
par WordPress et vous
les assemblez comme des Legos,

00:20:40.070 --> 00:20:41.260
c'est ainsi que fonctionnent ces composants.

00:20:41.260 --> 00:20:45.040
Nous avons donc un éditeur de texte enrichi
dans lequel nous plaçons notre titre.

00:20:45.040 --> 00:20:46.860
Et vous remarquerez que
nous avons un menu déroulant ici

00:20:46.860 --> 00:20:49.210
où nous pouvons changer le niveau
de notre titre et le niveau

00:20:49.210 --> 00:20:52.330
étant les H1, H2, H3, H4.

00:20:52.330 --> 00:20:56.290
Ce qui est bien ici, c'est que vous
ne savez jamais où votre utilisateur

00:20:56.290 --> 00:20:58.160
va mettre un bloc dans une page.

00:20:58.160 --> 00:21:00.870
On ne sait jamais quel
sera le contexte.

00:21:00.870 --> 00:21:04.800
C'est donc bien de pouvoir dire, eh bien,
dans ce cas, je n'ai pas de H2.

00:21:04.800 --> 00:21:09.570
Je veux donc vraiment que mes blocs soient
un H2 au niveau de l'en-tête

00:21:09.570 --> 00:21:11.610
de toutes les sections accordéon.

00:21:11.610 --> 00:21:15.150
Et ensuite, je peux créer mon contenu
à l'intérieur, en fonction de cela.

00:21:15.150 --> 00:21:19.250
Donc, donner à l'éditeur
cette sorte de liberté de contrôle

00:21:19.250 --> 00:21:22.720
sur certains de ces éléments est
très pratique et je pense vraiment,

00:21:22.720 --> 00:21:27.740
impacte ce qu'on peut faire, et c'est grâce
à l'utilisation de composants WordPress personnalisés.

00:21:27.740 --> 00:21:31.990
De même, si vous avez déjà
eu à ajouter du contenu

00:21:31.990 --> 00:21:35.480
avec l'icône d'insertion de bloc,
parfois cela peut être un peu délicat

00:21:35.480 --> 00:21:37.340
pour savoir où vous
éditez le contenu.

00:21:37.340 --> 00:21:39.720
Par exemple,
j'étais en train de modifier celui-ci plus tôt

00:21:39.720 --> 00:21:42.340
et je pensais que j'écrivais le
contenu à l'intérieur de l'accordéon,

00:21:42.340 --> 00:21:44.930
mais en fait, j'étais juste
plus bas dans l'article du blog,

00:21:44.930 --> 00:21:47.460
sans même éditer le bon contenu.

00:21:47.460 --> 00:21:50.420
Il est donc vraiment important
que ce contexte existe.

00:21:50.420 --> 00:21:53.980
Nous avons donc ajouté un bouton
ici sur lequel vous pouvez cliquer

00:21:53.980 --> 00:21:56.350
et vous pouvez ajouter une nouvelle
section accordéon au milieu

00:21:56.350 --> 00:21:59.010
de votre contenu, et cela
va vous y amener directement.

00:21:59.010 --> 00:22:01.800
Ça va faire le focus dessus, ça
va le mettre au premier plan,

00:22:01.800 --> 00:22:04.920
et cela va rendre
l'ajout de ce contenu beaucoup plus facile.

00:22:04.920 --> 00:22:08.480
Nous essayons de correspondre au
paradigme de l'éditeur de blocs

00:22:08.480 --> 00:22:11.670
et utiliser les composants
qui sont à notre disposition.

00:22:11.670 --> 00:22:13.670
Parfois, cela nécessite
un peu de code supplémentaire,

00:22:13.670 --> 00:22:17.840
mais c'est aussi très important
parce que cette expérience d'édition

00:22:17.840 --> 00:22:18.840
est très importante.

00:22:20.440 --> 00:22:24.110
Ensuite, je pense qu'on peut faire un
tour rapide et voir comment c'est

00:22:24.110 --> 00:22:25.550
pour modifier certains de ces blocs.

00:22:25.550 --> 00:22:27.260
Je vais donc arrêter de partager
mon écran et revenir

00:22:27.260 --> 00:22:28.260
à cette présentation.

00:22:29.630 --> 00:22:30.390
Génial.

00:22:30.390 --> 00:22:34.605
Nous avons donc vu comment
fonctionnait un bloc accordéon accessible.

00:22:34.606 --> 00:22:36.010
dans l'éditeur.

00:22:36.010 --> 00:22:38.910
Ce qui va suivre, c'est vraiment la
façon dont nous allons réellement y arriver.

00:22:38.910 --> 00:22:43.300
pour construire structurellement ce bloc comme
un bloc sur mesure pour un client.

00:22:43.300 --> 00:22:46.990
Comme nous l'avons mentionné,
nous avons en réalité construit deux blocs.

00:22:46.990 --> 00:22:49.870
Nous avons construit un bloc parent
et un bloc enfant.

00:22:49.870 --> 00:22:52.910
et ils doivent travailler ensemble
parce qu'il faut un parent,

00:22:52.910 --> 00:22:55.560
qui est l'accordéon et
on a besoin de beaucoup d'enfants

00:22:55.560 --> 00:22:57.740
et il faut absolument qu'ils ne se
trouvent que les uns avec les autres.

00:22:57.740 --> 00:23:03.050
Donc le meilleur paradigme pour vraiment
comparer cela est le bloc de colonnes

00:23:03.050 --> 00:23:04.070
dans l'éditeur WordPress.

00:23:04.070 --> 00:23:09.490
Ainsi, lorsque vous ajoutez des colonnes à
votre contenu dans WordPress,

00:23:09.490 --> 00:23:13.030
vous ajoutez le bloc colonnes (pluriel),
ce qui vous donne alors

00:23:13.030 --> 00:23:16.010
plusieurs
blocs de colonnes à l'intérieur.

00:23:16.010 --> 00:23:18.110
On ne peut pas vraiment avoir
l'un sans l'autre.

00:23:18.110 --> 00:23:21.840
Vous ne pouvez pas ajouter une colonne si elle
n'est pas à l'intérieur des colonnes

00:23:21.840 --> 00:23:22.860
et vice-versa.

00:23:22.860 --> 00:23:26.020
Donc si vous faites ce
genre de développement par blocs,

00:23:26.020 --> 00:23:32.020
c'est vraiment un
bloc clé que vous pouvez regarder

00:23:32.020 --> 00:23:34.000
comme un très bon
exemple de son fonctionnement

00:23:34.000 --> 00:23:36.640
pour faire ce genre de
blocs parents et enfants.

00:23:36.640 --> 00:23:42.260
Je dirai tout de suite que c'est un
un avertissement pour la prochaine section.

00:23:42.260 --> 00:23:45.640
Nous allons supposer un
peu de familiarité

00:23:45.640 --> 00:23:47.120
avec développement de blocs personnalisés.

00:23:47.120 --> 00:23:49.310
Donc, si vous n'avez jamais créé
de blocs personnalisés auparavant,

00:23:49.310 --> 00:23:51.490
vous pouvez certainement en tirer
quelque chose,

00:23:51.490 --> 00:23:54.080
mais il va supposer
qu'à ce stade,

00:23:54.080 --> 00:23:55.870
vous construisez en fait
un bloc personnalisé et vous avez

00:23:55.870 --> 00:23:59.990
j'ai peut-être déjà fait des choses comme écrire
des blocs personnalisés pour WordPress auparavant.

00:23:59.990 --> 00:24:02.430
Je vous rappelle que le
code de tout ça est sur GitHub

00:24:02.430 --> 00:24:04.910
et vous pouvez le prendre,
jouer avec, le tester.

00:24:04.910 --> 00:24:07.900
Nous avons mis un lien Insta WP pour que vous
puissiez l'essayer en un seul clic

00:24:07.900 --> 00:24:10.190
dans une installation WordPress.

00:24:10.190 --> 00:24:12.640
Le code est donc là
pour que vous puissiez l'explorer.

00:24:12.640 --> 00:24:17.330
Mais regardons comment
nous avons enregistré ce bloc parent

00:24:17.330 --> 00:24:20.220
et ensuite je laisserai Aurooba
prendre le relais pour ce bloc enfant.

00:24:20.220 --> 00:24:23.580
Donc, en enregistrant le bloc parent,
si vous avez construit un bloc

00:24:23.580 --> 00:24:25.600
avec WordPress avant,
vous avez probablement utilisé

00:24:25.600 --> 00:24:27.310
le package de création de blocs WordPress.

00:24:27.310 --> 00:24:28.340
C'est super pratique.

00:24:28.340 --> 00:24:31.440
Il rassemble tous les fichiers dont vous
avez besoin, vous donne le processus de construction,

00:24:31.440 --> 00:24:31.890
tout.

00:24:31.890 --> 00:24:34.470
C'est ce que nous avons utilisé
pour construire ce bloc.

00:24:34.470 --> 00:24:37.860
Je vais juste souligner deux
choses essentielles que nous avons faites

00:24:37.860 --> 00:24:41.450
pour ce bloc accordéon parent,
parce qu'en fin de compte,

00:24:41.450 --> 00:24:44.280
il ne nécessitait en réalité
presque pas de code.

00:24:44.280 --> 00:24:47.750
Donc la première chose que nous avons dû
modifier est le fichier block.json.

00:24:47.750 --> 00:24:50.390
Et c'est là que vous faites
savoir à WordPress, voici le nom

00:24:50.390 --> 00:24:51.360
de mon bloc.

00:24:51.360 --> 00:24:53.170
Voici à quoi il sera
fait référence.

00:24:53.170 --> 00:24:54.730
Voici à quoi cela devrait
ressembler dans l'éditeur,

00:24:54.730 --> 00:24:56.130
toutes ces sortes de choses.

00:24:56.130 --> 00:24:59.280
Mais deux éléments clés que nous
ajoutons à notre bloc,

00:24:59.280 --> 00:25:04.210
à partir de la ligne cinq, se trouve la
clé des attributs dans le block.json.

00:25:04.210 --> 00:25:08.630
Les attributs sont donc comme des éléments de données personnalisés
que vous souhaitez

00:25:08.630 --> 00:25:12.780
sauvegarder et que vous souhaitez
conserver stocké avec votre bloc,

00:25:12.780 --> 00:25:15.360
presque comme des champs personnalisés ou
des méta personnalisés, mais ils sont juste liés

00:25:15.360 --> 00:25:16.600
à ce bloc.

00:25:16.600 --> 00:25:19.870
Et donc dans ce cas, nous avons
un attribut que nous sauvegardons

00:25:19.870 --> 00:25:22.890
avec notre accordéon,
et c'est cet attribut de niveau.

00:25:22.890 --> 00:25:25.610
Donc si vous vous rappeler
quand nous étions en train d'éditer

00:25:25.610 --> 00:25:28.720
dans le back-end de l'éditeur,
nous avons pu modifier le niveau

00:25:28.720 --> 00:25:32.620
de l'élément de titre
comme H1, H2, H3.

00:25:32.620 --> 00:25:34.530
C'est ici que nous allons
stocker ces données.

00:25:34.530 --> 00:25:38.480
Nous allons le stocker dans le
bloc parent car nous avons décidé que

00:25:38.480 --> 00:25:41.760
dans cette version de notre
bloc, nous voulons que vous puissiez

00:25:41.760 --> 00:25:44.090
modifier le titre dans un bloc.

00:25:44.090 --> 00:25:48.640
Et toutes les autres sections d'accordéon
dans cet accordéon vont toutes

00:25:48.640 --> 00:25:50.060
pour prendre le même titre.

00:25:50.060 --> 00:25:55.170
Nous allons donc utiliser ce niveau
comme un attribut enregistré sur le parent.

00:25:55.170 --> 00:25:57.590
Et nous allons
le stocker là

00:25:57.590 --> 00:26:00.510
pour que tous les
blocs internes y aient accès.

00:26:00.510 --> 00:26:02.771
Et la façon dont nous
le faisons est avec quelque chose

00:26:02.772 --> 00:26:04.370
dans WordPress qu'on appelle contexte.

00:26:04.370 --> 00:26:08.950
Le contexte est essentiellement une façon de
dire : Hé, j'ai des données ici.

00:26:08.950 --> 00:26:12.880
Et je veux le fournir
plus loin à d'autres blocs.

00:26:12.880 --> 00:26:15.600
Et je souhaite partager cette
information plus bas.

00:26:15.600 --> 00:26:17.730
Et le contexte est la
manière de faire ça.

00:26:17.730 --> 00:26:20.660
Et c'est un moyen de garder votre
bloc super performant.

00:26:20.660 --> 00:26:24.800
Donc dans ce cas, à la ligne 12,
nous disons en gros : Hé,

00:26:24.800 --> 00:26:27.910
notre bloc parent enregistre
quelque chose appelé niveau, et nous voulons

00:26:27.910 --> 00:26:31.290
le fournir comme contexte
à nos blocs intérieurs.

00:26:31.290 --> 00:26:33.280
Et quand on arrive
aux interblocs,

00:26:33.281 --> 00:26:34.930
nous verrons à quoi ça ressemble.

00:26:34.930 --> 00:26:39.100
Et puis nous jetterons un
œil de l'autre côté,

00:26:39.100 --> 00:26:41.480
et ce code est également disponible.

00:26:41.480 --> 00:26:44.460
C'est la
fonction d'édition pour ce bloc.

00:26:45.530 --> 00:26:48.540
Nous voulons juste souligner une
ou deux choses importantes ici.

00:26:48.540 --> 00:26:52.900
Comme nous l'avons dit, nous utilisons un bloc
avec des blocs internes à l'intérieur.

00:26:52.900 --> 00:26:54.620
qui auront alors
des blocs internes à l'intérieur.

00:26:54.620 --> 00:26:58.640
Notre accordéon possède donc
des blocs intérieurs.

00:26:58.640 --> 00:27:01.950
Et nous clarifions quelques
règles concernant ces blocs intérieurs.

00:27:01.950 --> 00:27:04.610
Par exemple, à la ligne
cinq, nous disons : Hé,

00:27:04.610 --> 00:27:06.450
le seul bloc qui
sera autorisé

00:27:06.450 --> 00:27:10.240
dans notre accordéon parent
c'est notre section accordéon.

00:27:10.240 --> 00:27:13.700
C'est le seul bloc qui peut
se trouver juste à l'intérieur de notre accordéon.

00:27:13.700 --> 00:27:15.300
Tout comme le seul
bloc qui se trouve à l'intérieur

00:27:15.300 --> 00:27:18.100
des colonnes est
le bloc d'une seule colonne.

00:27:18.100 --> 00:27:20.030
Nous l'avons donc fait.

00:27:20.030 --> 00:27:22.480
Sur la ligne six, nous avons mis en place
un modèle. Nous avons dit :

00:27:22.480 --> 00:27:28.140
Hé, lorsque ce bloc se charge,
nous voulons essentiellement ce modèle

00:27:28.140 --> 00:27:30.620
pour commencer avec une
section prête à l'emploi.

00:27:30.620 --> 00:27:35.230
Et puis sur la ligne sept, cet
attribut de sélection de mise à jour d'insertion de modèle,

00:27:35.230 --> 00:27:40.030
nous disons en gros,
lorsque vous insérez un modèle,

00:27:41.120 --> 00:27:43.100
concentrez-vous
sur ce premier.

00:27:43.100 --> 00:27:46.810
Donc ils se mettent directement à éditer
cette première section en accordéon.

00:27:46.810 --> 00:27:50.680
Ce sont donc des paramètres inhérents
à la façon dont on construit des blocs

00:27:50.680 --> 00:27:51.470
sur WordPress.

00:27:51.470 --> 00:27:56.670
Mais vraiment, ces 11 lignes de code
contiennent vraiment tout ce dont vous avez besoin

00:27:56.670 --> 00:27:59.190
pour ce bloc accordéon parent.

00:27:59.190 --> 00:28:02.010
Et cela prépare cet utilisateur à une
très bonne expérience d'édition.

00:28:02.010 --> 00:28:05.560
Cela vaut donc vraiment la peine d'examiner
comment ces choses fonctionnent.

00:28:05.560 --> 00:28:07.230
C'est vraiment tout pour
le bloc parent.

00:28:07.230 --> 00:28:10.050
C'est un bloc très simple,
c'est juste un wrapper

00:28:10.050 --> 00:28:12.030
pour toutes ces sections d'accordéon.

00:28:12.030 --> 00:28:16.420
Aurooba, tu veux
fouiller dans les blocs enfants ?

00:28:16.420 --> 00:28:17.620
AUROOBA : Oui.

00:28:17.620 --> 00:28:20.920
Donc, comme Brian l'a dit,
c'était le blocage parent.

00:28:20.920 --> 00:28:22.140
Super simple.

00:28:22.140 --> 00:28:25.180
Et c'est dans le bloc enfant
que cette magie opère.

00:28:25.180 --> 00:28:27.720
Il y a beaucoup
d'activité ici.

00:28:27.720 --> 00:28:30.320
Encore une fois,
c'est une vue partielle.

00:28:30.320 --> 00:28:33.400
de ce fichier JSON
d'enregistrement de bloc.

00:28:33.400 --> 00:28:36.860
Mais vous pouvez voir l'intégralité
du code dans le référentiel plus tard.

00:28:36.860 --> 00:28:41.290
Ce qui se passe ici, c'est que, bien
sûr, nous lui donnons un slug.

00:28:41.290 --> 00:28:47.420
Nous ajoutons un titre, mais ensuite à
la ligne six, nous ajoutons une clé parent.

00:28:47.420 --> 00:28:51.220
Donc cette clé parent est
ce qui permet à ce bloc

00:28:51.220 --> 00:28:55.580
de n'être disponible que dans
ce bloc d'accordéon parent.

00:28:55.580 --> 00:28:59.530
Donc, comme pour le bloc colonnes,
si vous ouvrez la bibliothèque de blocs

00:28:59.530 --> 00:29:04.260
et tapez colonne, vous ne
voyez que le bloc colonnes (pluriel).

00:29:04.260 --> 00:29:07.710
Vous ne voyez jamais ce
bloc de colonne unique disponible ici

00:29:07.710 --> 00:29:09.840
à cause de cette clé parent.

00:29:09.840 --> 00:29:11.438
C'est donc la première chose que nous faisons

00:29:11.439 --> 00:29:13.500
parce que nous ne
voulons jamais que ce bloc enfant

00:29:13.500 --> 00:29:15.880
à utiliser en dehors
de ce bloc parent.

00:29:15.880 --> 00:29:17.990
Sinon ça ne marcherait pas vraiment.

00:29:17.990 --> 00:29:22.370
La prochaine chose que nous faisons,
nous avons beaucoup plus d'attributs ici

00:29:22.370 --> 00:29:24.510
que le bloc parent,
car nous avons beaucoup plus

00:29:24.510 --> 00:29:27.560
de choses à suivre dans chaque
section d'accordéon.

00:29:27.560 --> 00:29:30.340
La toute première chose est bien
sûr le texte du titre.

00:29:30.340 --> 00:29:33.740
Nous savons que le titre,
l'en-tête de la section accordéon

00:29:33.740 --> 00:29:34.640
est important.

00:29:34.640 --> 00:29:36.310
Nous gardons donc une trace de cela.

00:29:36.310 --> 00:29:38.520
Ensuite, nous gardons une trace du niveau.

00:29:38.520 --> 00:29:41.030
Donc, cela est conservé
dans le bloc parent, oui,

00:29:41.030 --> 00:29:45.530
mais aussi au
niveau de chaque section de titre individuelle.

00:29:45.530 --> 00:29:48.930
Ensuite, nous avons l'ID car
nous devons avoir un moyen unique

00:29:48.930 --> 00:29:53.097
pour identifier à cause
de notre JavaScript,

00:29:53.098 --> 00:29:56.410
quelle interaction nous faisons

00:29:56.410 --> 00:29:58.860
quand on clique sur une
section en accordéon.

00:29:58.860 --> 00:30:03.930
Et puis le côté compliment
qui fournit la clé du contexte,

00:30:03.930 --> 00:30:07.160
dont Brian parlait,
nous avons le contexte des utilisateurs.

00:30:07.160 --> 00:30:09.590
Donc ce que nous faisons dans le
bloc enfant c'est dire, Hé,

00:30:09.590 --> 00:30:13.820
récupérez les informations, ce
niveau de titre à partir du bloc parent.

00:30:13.820 --> 00:30:15.080
Nous voulons utiliser ces informations.

00:30:15.080 --> 00:30:19.890
Et puis nous stockons et sauvegardons également
cela au niveau de la section.

00:30:21.210 --> 00:30:24.830
C'est donc ce que nous devons faire pour
enregistrer le bloc enfant.

00:30:24.830 --> 00:30:28.680
Il se passe beaucoup de choses
dans la section d'édition,

00:30:28.680 --> 00:30:31.790
l'expérience éditoriale
du bloc enfant.

00:30:31.790 --> 00:30:35.770
Donc ici, au lieu de
vous guider à travers la section d'édition,

00:30:35.770 --> 00:30:38.370
nous vous montrons à quoi
ressemble cette fonction de sauvegarde

00:30:38.370 --> 00:30:43.490
parce que ça exprime vraiment
très bien toutes les choses

00:30:43.490 --> 00:30:47.780
que le bloc doit faire pour
créer cet résultat final.

00:30:47.780 --> 00:30:51.460
La toute première chose que vous remarquerez
est que nous saisissons ce niveau

00:30:51.460 --> 00:30:55.700
à partir de ces attributs et nous
créons une balise de titre à partir de ceux-ci.

00:30:55.700 --> 00:30:59.300
Ensuite, nous avons notre wrapper
de section d'accordéon, bien sûr,

00:30:59.300 --> 00:31:02.070
et à l'intérieur, nous avons
le titre de l'accordéon,

00:31:02.070 --> 00:31:05.890
qui utilise le nom de balise
lié à cet attribut de niveau,

00:31:05.890 --> 00:31:09.980
qui est global dans
tout le bloc parent accordéon

00:31:09.980 --> 00:31:11.760
et toutes ces sections.

00:31:11.760 --> 00:31:16.220
Ici, nous définissons le
aria-expanded, pour le bouton,

00:31:16.220 --> 00:31:20.760
nous définissons le texte du titre
et nous lui donnons un identifiant unique.

00:31:20.760 --> 00:31:25.300
Et puis en dessous, nous avons un
wrapper pour ce panneau d'accordéon.

00:31:25.300 --> 00:31:29.020
Et c'est là que vivent les blocs
intérieurs flexibles à contenu libre.

00:31:29.020 --> 00:31:32.670
Ainsi, dans le bloc parent,
le composant des blocs internes,

00:31:32.670 --> 00:31:35.370
ce qui est absolument
incroyable, un truc génial,

00:31:35.370 --> 00:31:38.950
nous avons ici intégré
WordPress pour l'éditeur de blocs.

00:31:38.950 --> 00:31:41.300
Dans le bloc parent,
c'était limitant,

00:31:41.300 --> 00:31:45.230
nous disions de n'autoriser qu'un
certain bloc à avoir ce modèle,

00:31:45.230 --> 00:31:48.370
mais dans le contenu du panneau d'accordéon,
nous voulons que vous puissiez

00:31:48.370 --> 00:31:49.780
ajouter ce que vous voulez.

00:31:49.780 --> 00:31:54.740
Il s'agit donc simplement d'un
composant de blocs internes simple qui n'a aucune restriction.

00:31:55.890 --> 00:31:59.140
Voilà donc ce qui constitue
le bloc enfant.

00:31:59.140 --> 00:32:05.250
Mais ensuite, comme Brian l'a démontré,
nous avons ajouté quelques ajustements supplémentaires.

00:32:05.250 --> 00:32:08.380
pour rendre cette expérience d'édition
un peu plus accessible,

00:32:08.380 --> 00:32:11.150
un peu plus facile à utiliser.

00:32:11.150 --> 00:32:14.640
Donc la première chose à savoir en
termes de navigation au clavier

00:32:14.640 --> 00:32:20.660
et la convivialité générale de
l'éditeur de blocs est qu'il existe un raccourci global,

00:32:20.660 --> 00:32:26.100
qui est alt + ctrl + y
ou option + commande + y,

00:32:26.100 --> 00:32:27.800
si vous êtes sur Mac.

00:32:27.800 --> 00:32:30.260
Et cela vous permet
d'ajouter un nouveau bloc.

00:32:30.260 --> 00:32:33.950
Lorsque vous appuyez sur ce
raccourci, essentiellement,

00:32:33.950 --> 00:32:37.940
le bloc crée un espace vide
où vous pouvez maintenant ajouter un nouveau bloc.

00:32:37.940 --> 00:32:43.070
Mais à l'intérieur du bloc accordéon, vous
ne pouvez pas ajouter n'importe quel bloc n'importe où.

00:32:43.070 --> 00:32:45.960
Si vous êtes chez le parent,
vous ne pouvez réellement ajouter

00:32:45.960 --> 00:32:48.180
qu'une autre section accordéon.

00:32:48.180 --> 00:32:52.800
Vous ne pouvez ajouter le bloc de votre choix
qu'à l'intérieur du panneau accordéon.

00:32:52.800 --> 00:32:57.710
Donc ce raccourci ne fonctionne pas
vraiment comme prévu à l'intérieur de ce bloc.

00:32:57.710 --> 00:32:59.520
Nous avons donc décidé de régler ce problème.

00:32:59.520 --> 00:33:03.280
Et la façon dont nous résolvons ce problème est,
tout d'abord, d'ajouter dans la barre d'outils

00:33:03.280 --> 00:33:06.770
ce bouton plus qui
l'ajoute, mais qui est en fait lié

00:33:06.770 --> 00:33:12.860
vers ce même raccourci alt + ctrl +
y ou option + command + y sur Mac.

00:33:12.860 --> 00:33:16.520
Et si vous êtes dans
une section accordéon

00:33:16.520 --> 00:33:20.410
et vous faîtes le focus sur
la zone d'en-tête de l'accordéon,

00:33:20.410 --> 00:33:26.130
ce composant de texte enrichi personnalisé dans lequel
vous insérez vos informations de titre

00:33:26.130 --> 00:33:32.890
et appuyez sur ces touches pour créer ce
raccourci, cela fera la même chose.

00:33:32.890 --> 00:33:36.070
Cela ajoutera une nouvelle
section d'accordéon pour vous.

00:33:36.070 --> 00:33:40.160
Donc quelques éléments ici et là
suffisent parfois

00:33:40.160 --> 00:33:42.830
afin d'améliorer
cette expérience

00:33:42.830 --> 00:33:45.620
de création personnalisée.

00:33:45.620 --> 00:33:48.610
Mais en plus de faire
ces ajustements d'accessibilité,

00:33:48.610 --> 00:33:51.490
il y a aussi d'autres choses
que nous devons faire stylistiquement,

00:33:51.490 --> 00:33:53.790
presque toujours pour tout bloc personnalisé.

00:33:53.790 --> 00:33:54.950
Brian va donc
nous expliquer tout cela.

00:33:54.950 --> 00:34:00.510
BRIAN : En fait, lorsque vous créez un bloc
dans WordPress, et surtout

00:34:00.510 --> 00:34:04.490
si vous utilisez la convention
d'échafaudage pour la création bloc,

00:34:04.490 --> 00:34:07.080
vous aurez généralement
deux feuilles de style.

00:34:07.080 --> 00:34:10.370
Une feuille de style se charge avec votre
bloc sur le front et le backend

00:34:10.370 --> 00:34:10.960
de WordPress.

00:34:10.960 --> 00:34:14.610
Donc le bloc apparaît,
la feuille de style apparaît,

00:34:14.610 --> 00:34:17.670
lorsque l'utilisateur utilise le bloc sur
le front-end du site Web,

00:34:17.670 --> 00:34:19.940
mais cela apparaît également dans
l'expérience d'édition.

00:34:19.940 --> 00:34:23.125
Cependant,
parfois l'expérience dans l'éditeur

00:34:23.126 --> 00:34:25.610
n'est pas vraiment un reflet exact

00:34:25.610 --> 00:34:27.390
de ce qu'on a sur le front-end du
site Web, car lorsque vous êtes

00:34:27.390 --> 00:34:30.940
dans l'éditeur de blocs, il y a
des barres d'outils, des boutons et l'UX dans Chrome

00:34:30.940 --> 00:34:33.630
et toutes sortes d'interactions
qui doivent avoir lieu.

00:34:33.630 --> 00:34:37.390
Et parfois, ce n'est pas aussi
proche qu'on le voudrait vraiment

00:34:37.390 --> 00:34:40.210
en termes de
structure sémantique du HTML.

00:34:40.210 --> 00:34:43.680
Donc le bloc chargera généralement
une deuxième feuille de style juste

00:34:43.680 --> 00:34:47.040
pour l'éditeur où vous pouvez
ajouter des stylisations personnalisés.

00:34:47.040 --> 00:34:49.520
Donc dans notre cas, sur le front-end,
nous avons parlé de

00:34:49.520 --> 00:34:53.460
comment le texte d'en-tête devait
être dans un élément bouton

00:34:53.460 --> 00:34:55.530
parce que nous voulons vraiment
que ce soit cliquable.

00:34:55.530 --> 00:34:58.300
On ne veut pas faire n'importe quoi comme
prendre un div et le transformer en bouton.

00:34:58.300 --> 00:35:02.920
Nous voulons les mêmes éléments sélectionnables,
focalisables, toutes ces choses

00:35:02.920 --> 00:35:03.860
qu'un bouton nous donne.

00:35:03.860 --> 00:35:06.740
Mais lorsque nous sommes en
train d'éditer dans le back-end,

00:35:06.740 --> 00:35:09.170
nous utilisons un composant
fourni par WordPress

00:35:09.170 --> 00:35:11.590
appelé le composant de texte enrichi.

00:35:11.590 --> 00:35:14.140
Cela vous permet vraiment
d'écrire ce titre.

00:35:14.140 --> 00:35:17.370
L'inconvénient est que cela
peut en fait être un bouton.

00:35:17.370 --> 00:35:18.650
C'est un composant complètement différent.

00:35:18.650 --> 00:35:21.050
Donc tous ces styles qu'on
vous a montrés pour le bouton,

00:35:21.050 --> 00:35:22.850
ils ne fonctionnaient tout simplement pas vraiment
dans le backend de WordPress

00:35:22.850 --> 00:35:23.780
parce qu'il n'y avait pas de bouton.

00:35:23.780 --> 00:35:29.840
Donc, une fois que vous avez terminé le frontend
de votre bloc, vous allez vraiment

00:35:29.840 --> 00:35:32.850
vers le backend, vous voyez ; les
styles correspondent-ils l'un avec l'autre,

00:35:32.850 --> 00:35:35.600
les éléments correspondent-ils l'un avec
l'autre, que puis-je faire pour obtenir cela

00:35:35.600 --> 00:35:39.280
pour me sentir aussi proche que possible
du front-end et en plus

00:35:39.280 --> 00:35:41.180
être aussi accessible que possible ?

00:35:41.180 --> 00:35:43.873
Si nous n'avions pas ajouté
ces styles personnalisés,

00:35:43.874 --> 00:35:46.220
alors tout serait devenu incompréhensible

00:35:46.220 --> 00:35:49.290
et vous n'auriez pas pu savoir ce que vous
étiez en train de modifier, par exemple.

00:35:49.290 --> 00:35:53.930
Il est donc très important d'intervenir
et d'ajouter des styles spécifiques

00:35:53.930 --> 00:35:58.490
pour que le backend présente
une correspondance parfaite entre le front-end.

00:35:58.490 --> 00:36:02.930
Donc, dans l'ensemble, ce
sont beaucoup de choses

00:36:02.930 --> 00:36:04.760
auqxuelles je pense qu'il
faut vraiment anticiper

00:36:04.760 --> 00:36:09.780
lorsque vous construisez
une sorte de bloc personnalisé.

00:36:09.780 --> 00:36:12.740
Et nous utilisons l'accordéon
parce que c'est un élément de design

00:36:12.740 --> 00:36:15.080
qui, je pense, est utilisé très souvent.

00:36:15.080 --> 00:36:16.710
Je pense que si vous avez
créé des sites Web personnalisés,

00:36:16.710 --> 00:36:18.850
vous créez des indications de base
plus souvent que vous ne le pensez,

00:36:18.850 --> 00:36:23.310
et ce n'est toujours pas un bloc de base
de WordPress à ce stade.

00:36:23.310 --> 00:36:24.630
Il y a un
bloc de détails et c'est génial.

00:36:24.630 --> 00:36:27.380
Ce n'est pas tout à fait la même chose.

00:36:27.380 --> 00:36:30.290
Donc si vous l'avez déjà fait,
vous l'avez probablement rencontré.

00:36:30.290 --> 00:36:33.670
Donc, vous savez, c'est vraiment important
de réfléchir, structurellement,

00:36:33.670 --> 00:36:38.370
quel HTML je veux vraiment,
quels attributs sont vraiment importants.

00:36:38.370 --> 00:36:41.280
Est-ce que j'utilise les choses comme
le navigateur le prévoit ?

00:36:41.280 --> 00:36:43.700
Est-ce que tout est vraiment
facile d'accès ?

00:36:43.700 --> 00:36:48.430
Vous allez essentiellement prendre
autant de temps sur le back-end

00:36:48.430 --> 00:36:49.580
que sur le front-end.

00:36:49.580 --> 00:36:53.380
Vous devez donc vraiment anticiper
ce temps de manière appropriée

00:36:53.380 --> 00:36:55.750
pour offrir la meilleure
expérience et vous assurer

00:36:55.750 --> 00:36:59.160
que vous ne construisez pas quelque chose
qui n'est pas vraiment accessible

00:36:59.160 --> 00:37:02.780
parce que c'est quelque chose
qui affecte vraiment tout le monde

00:37:02.780 --> 00:37:04.620
qui produit du contenu
sur un site Web.

00:37:04.620 --> 00:37:06.720
Donc en suivant les normes
et ces pratiques,

00:37:06.720 --> 00:37:08.850
c'est juste quelque chose qui
aide tout le monde.

00:37:10.480 --> 00:37:14.690
AUROOBA : Oui, et l'autre
chose que je veux garder à l'esprit,

00:37:14.690 --> 00:37:18.970
Je tiens à rappeler à tout le monde
qu'il s'agit d'une approche

00:37:18.970 --> 00:37:21.658
et un socle de base
sur l'accessibilité

00:37:21.659 --> 00:37:23.430
que vous ajouteriez,

00:37:23.430 --> 00:37:27.230
pas seulement un
bloc personnalisé, mais un bloc accordéon.

00:37:27.230 --> 00:37:31.180
Mais il faut considérer
la situation et le contexte

00:37:31.180 --> 00:37:33.830
dans lequel vos créateurs de contenu
vont utiliser votre bloc.

00:37:33.830 --> 00:37:37.770
Par exemple, plus tôt, nous avons parlé de
la façon dont vous pourriez avoir un accordéon

00:37:37.770 --> 00:37:40.700
qui a une relation
dans laquelle vous ouvrez une section

00:37:40.700 --> 00:37:44.110
et l'autre est fermée,
ou vous pourriez avoir un problème

00:37:44.110 --> 00:37:45.830
où vous devez
les avoir toutes ouvertes.

00:37:45.830 --> 00:37:48.680
Vous voulez que les gens puissent
ouvrir et fermer des sections

00:37:48.680 --> 00:37:52.800
à volonté,
ou vous pouvez vouloir

00:37:52.800 --> 00:37:55.430
qu'une section en particulier
de l'accordéon soit toujours ouverte.

00:37:55.430 --> 00:37:57.710
Toutes ces choses vont
changer la façon avec laquelle

00:37:57.710 --> 00:38:02.460
vous créez cette expérience
d'édition de blocs et le rendu du front-end

00:38:02.460 --> 00:38:04.410
afin de la rendre
la plus accessible possible.

00:38:04.410 --> 00:38:07.670
Donc, même si c'est une bonne
base de départ, vous devez

00:38:07.670 --> 00:38:11.720
contextualiser tout ça en fonction
de votre situation particulière

00:38:11.720 --> 00:38:14.150
et du projet particulier
sur lequel vous travaillez.

00:38:15.280 --> 00:38:17.130
Alors, bref, merci.

00:38:17.130 --> 00:38:22.780
On a beaucoup parlé de l'accessibilité
de l'accordéon, mais on est là

00:38:22.780 --> 00:38:24.640
pour répondre à toutes vos questions.

00:38:24.640 --> 00:38:27.320
Et nous avons tout le
code à votre disposition

00:38:27.320 --> 00:38:31.050
ainsi que cette présentation,
qui fait partie du même dépôt.

00:38:31.050 --> 00:38:33.840
Et vous pourrez regarder tout ça
après la présentation.

00:38:35.010 --> 00:38:36.820
BRIAN : Et je crois que nous
avons quelques questions

00:38:36.820 --> 00:38:38.510
auxquelles nous sommes plus
qu'heureux de répondre.

00:38:38.510 --> 00:38:43.120
Et comme je l'ai dit, vous pouvez utiliser
les diapositives pour y arriver

00:38:43.120 --> 00:38:45.960
au lieu de chercher par vous-même avec
le bloc ou vous pouvez l'importer

00:38:45.960 --> 00:38:46.960
depuis le dépôt.

00:38:51.540 --> 00:38:54.910
JULIE : Y a-t-il d'autres
questions dans le chat ?

00:38:56.230 --> 00:38:57.820
J'en vois quelques autres.

00:38:59.000 --> 00:39:01.300
Je pense que nous avons tout.

00:39:01.300 --> 00:39:02.300
D'accord.

00:39:04.200 --> 00:39:06.870
Eh bien,
merci à tous d'être venus.

00:39:08.580 --> 00:39:10.420
INTERVENANT : Il y a quelques
questions dans la séance de questions-réponses, Julie.

00:39:10.420 --> 00:39:11.650
JULIE : OK, merci.

00:39:12.830 --> 00:39:13.430
Il y en a.

00:39:13.430 --> 00:39:13.770
D'accord.

00:39:13.770 --> 00:39:14.190
Je vois maintenant.

00:39:14.190 --> 00:39:20.620
Alors, quand on ajoute un pseudo-élément
dans l'exemple CSS, la flèche,

00:39:20.620 --> 00:39:24.340
comment peut-on ajouter du texte alternatif pour cela ?

00:39:26.215 --> 00:39:27.600
AUROOBA : C'est une bonne question.

00:39:27.600 --> 00:39:28.440
Brian, tu veux le prendre ?

00:39:28.900 --> 00:39:29.320
BRIAN : Bien sûr.

00:39:29.320 --> 00:39:32.640
Donc honnêtement, c'est une
question que je pense que je me suis posée

00:39:32.640 --> 00:39:36.650
quand la première fois qu'on a fait, pas ça,
mais quelque chose de similaire il y a quelque temps,

00:39:36.650 --> 00:39:38.050
construire un bloc d'accordéon.

00:39:38.050 --> 00:39:42.330
Et vous savez ce qui va réellement
se passer, c'est qu'il s'agit d'un indicateur visuel

00:39:42.330 --> 00:39:45.670
et c'est vrai qu'il n'y
a pas de texte, mais ça fait partie

00:39:45.670 --> 00:39:48.250
de cet élément bouton
qui a ces rôles d'aria.

00:39:48.250 --> 00:39:51.200
Et donc ceux-ci feront en fait
partie des éléments.

00:39:51.200 --> 00:39:54.550
qui vont être lus
et informer l'utilisateur

00:39:54.550 --> 00:39:57.810
qu'il existe déjà une interactivité
et ce que cette interactivité

00:39:57.810 --> 00:39:59.140
va réaliser.

00:39:59.140 --> 00:40:02.970
Celui-là n'est qu'un indicateur visuel,
mais ce n'est pas le véritable...

00:40:02.970 --> 00:40:06.980
L'élément contient déjà le texte
pour que les technologies d'assistance

00:40:06.980 --> 00:40:07.870
puissent le gérer.

00:40:07.870 --> 00:40:09.780
Vous n'avez donc
rien à ajouter dans ce cas.

00:40:11.250 --> 00:40:13.990
JULIE : OK,
est-ce que les accordéons peuvent être imbriqués ?

00:40:15.700 --> 00:40:17.300
AUROOBA : Oui, vous pouvez.

00:40:17.300 --> 00:40:20.870
Je veux dire, quand nous avons créé ce
bloc, nous en avons discuté.

00:40:20.870 --> 00:40:24.080
Voulons-nous permettre qu'un accordéon
soit ajouté à un autre accordéon ?

00:40:24.080 --> 00:40:26.310
Vous pouvez tout à fait le faire,
mais vous voulez être sûr

00:40:26.310 --> 00:40:29.480
que vous ne créez pas de situation
comme avec les poupées russe

00:40:29.480 --> 00:40:32.900
où vous avez un accordéon à l'intérieur
d'un accordéon à l'intérieur d'un accordéon.

00:40:32.900 --> 00:40:37.640
Je dirais qu'en règle générale,
vous ne devriez pas faire ça,

00:40:37.640 --> 00:40:40.180
mais j'ai vu des situations
où cela avait du sens.

00:40:40.180 --> 00:40:42.580
Comme si vous aviez un accordéon
qui contient beaucoup de contenu,

00:40:42.580 --> 00:40:44.430
qui contient beaucoup d'informations,
et puis à la fin vous

00:40:44.430 --> 00:40:47.320
pourrait avoir un accordéon qui contient
en fait quelques questions FAQ,

00:40:47.320 --> 00:40:48.340
par exemple.

00:40:48.340 --> 00:40:51.270
Donc je pense qu'au-delà
de deux niveaux d'accordéons,

00:40:51.270 --> 00:40:54.000
ce ne serait pas une bonne idée,
mais jusqu'à deux, c'est probablement OK.

00:40:56.100 --> 00:40:57.250
JULIE : Merci pour ça.

00:40:57.250 --> 00:40:58.160
OK, encore une question.

00:40:58.160 --> 00:41:00.500
Comment rendre un
accordéon consultable ?

00:41:02.269 --> 00:41:04.000
BRIAN : Oh, c'est une bonne question.

00:41:07.120 --> 00:41:11.500
Ce qui est intéressant avec un accordéon,
c'est que le contenu est techniquement

00:41:11.500 --> 00:41:12.230
dans le document.

00:41:12.230 --> 00:41:13.620
C'est sur la page.

00:41:13.620 --> 00:41:16.350
Ce n'est pas comme une situation JavaScript
où il est réellement supprimé.

00:41:16.350 --> 00:41:19.580
Donc le contenu est là, mais en
le mettant en display none,

00:41:19.580 --> 00:41:22.960
ça ne sera pas lu à haute voix, et
ça ne sera pas vraiment scanné.

00:41:22.960 --> 00:41:27.390
En fait, je n'ai jamais imaginé
ce qui se passerait

00:41:27.390 --> 00:41:28.950
si nous faisions de vraies recherches.

00:41:28.950 --> 00:41:31.680
Comme ce que vous suggérez,
si je suis sur le front-end du site Web,

00:41:31.680 --> 00:41:35.010
et je lance la commande F pour
rechercher un mot dans le document.

00:41:35.010 --> 00:41:36.710
En fait, je ne suis pas sûr.

00:41:36.710 --> 00:41:39.910
D'après ce que je sais,
pour les détails, par exemple,

00:41:39.910 --> 00:41:42.670
les éléments de détails se
développeront automatiquement.

00:41:42.670 --> 00:41:45.390
Ce serait donc un bon
cas d'utilisation à tester.

00:41:45.390 --> 00:41:47.530
Je pense qu'ils
s'étendraient automatiquement,

00:41:47.530 --> 00:41:52.040
mais vous devrez peut-être en tenir compte
dans votre propre code.

00:41:52.040 --> 00:41:53.330
Aurooba, as-tu
quelque chose à ajouter à cela ?

00:41:54.940 --> 00:41:57.580
AUROOBA : Je sais que si vous effectuez
une recherche WordPress, ce sera le cas,

00:41:57.580 --> 00:42:00.561
car il ne se soucie pas
de la partie JavaScript,

00:42:00.562 --> 00:42:01.880
il va le trouver.

00:42:01.880 --> 00:42:04.080
Et même s'il est
configuré pour n'en afficher aucun,

00:42:04.080 --> 00:42:10.580
la plupart des moteurs de recherche de mots
sont capables d'identifier

00:42:10.580 --> 00:42:12.140
et trouvez également ce contenu.

00:42:12.140 --> 00:42:15.720
Donc cela dépend vraiment de ce que
vous voulez dire quand vous dites consultable.

00:42:15.720 --> 00:42:18.010
Dans certains contextes, c'est le cas, et dans
certains contextes, vous pourriez avoir besoin

00:42:18.010 --> 00:42:18.930
de faire quelques rajouts.

00:42:23.231 --> 00:42:24.320
JULIE : Il y a
encore deux questions.

00:42:24.320 --> 00:42:24.770
C'est vrai ?

00:42:25.500 --> 00:42:25.910
Y a-t-il autre chose ?

00:42:25.910 --> 00:42:27.400
AUROOBA : Une de plus, je pense.

00:42:27.400 --> 00:42:27.840
JULIE : Encore une.

00:42:27.840 --> 00:42:28.360
D'accord.

00:42:28.915 --> 00:42:29.555
Très bien.

00:42:31.290 --> 00:42:32.810
Pour une raison quelconque,
cela n'apparaît pas.

00:42:32.810 --> 00:42:33.970
Pourriez-vous
lire la question ?

00:42:33.970 --> 00:42:36.030
Je ne sais pas pourquoi
le mien n'apparaît pas ?

00:42:36.030 --> 00:42:36.780
AUROOBA : Oui.

00:42:36.780 --> 00:42:40.850
La question est : pourriez-vous
imbriquer une grille dans un accordéon ?

00:42:40.850 --> 00:42:41.640
JULIE : Et voilà.

00:42:41.640 --> 00:42:42.640
Merci.

00:42:45.500 --> 00:42:47.320
BRIAN : Tu veux
que je fasse celle-là ?

00:42:47.320 --> 00:42:49.889
Je veux dire que nous l'avons construit
pour que dans cette situation

00:42:49.890 --> 00:42:51.880
tu pourrais y emboîter n'importe quoi.

00:42:51.880 --> 00:42:56.540
Évidemment, vous savez,
il n'y a aucune raison de ne pas le faire.

00:42:58.850 --> 00:43:01.082
Évidemment, le design réactif est
très important si vous envisagez

00:43:01.083 --> 00:43:02.083
pour avoir du contenu.

00:43:03.340 --> 00:43:08.390
L’autre chose à propos d’un
accordéon est, généralement,

00:43:08.390 --> 00:43:10.820
d'un point de vue marketing,
vous ne voulez pas vraiment

00:43:10.820 --> 00:43:13.530
que les choses de haute importance
soient cachées là-dedans,

00:43:13.530 --> 00:43:16.630
mais c'est plutôt destiné à
des texte beaucoup plus longs

00:43:16.630 --> 00:43:18.440
ou des formulaires très longs
ou quelque chose comme ça.

00:43:18.440 --> 00:43:22.300
Mais vous verrez souvent,
je pense que même l'exemple

00:43:22.300 --> 00:43:28.160
sur W3, c'est un très long
formulaire à l'intérieur d'un accordéon

00:43:28.160 --> 00:43:30.760
afin que chaque section soit réductible
et c'est un excellent exemple

00:43:30.760 --> 00:43:32.880
où vous utiliseriez probablement
beaucoup de grille pour afficher vos

00:43:32.880 --> 00:43:33.830
éléments de formulaire ou quelque chose comme ça.

00:43:37.020 --> 00:43:38.820
JULIE : Très bien, nous en avons encore une.

00:43:38.820 --> 00:43:41.770
Quelle a été la partie la plus difficile
de la création de ce plugin ?

00:43:48.140 --> 00:43:50.460
AUROOBA : Donc, Brian et moi avons construit
beaucoup d'accordéons cette année.

00:43:51.530 --> 00:43:55.580
Je ne sais donc pas ce qui a été
le plus difficile.

00:43:55.580 --> 00:44:01.940
Je suppose que compte tenu des ajustements de l'éditeur
pour l'accessibilité, peut-être ça.

00:44:01.940 --> 00:44:03.400
Et toi, Brian ?

00:44:03.400 --> 00:44:06.250
BRIAN : Je dirais que je
pense qu'une chose qui arrive

00:44:06.250 --> 00:44:10.210
à beaucoup de développeurs, c'est qu'il
n'y a parfois pas qu'une seule bonne réponse

00:44:10.210 --> 00:44:11.740
lorsqu'il s'agit
d'accessibilité.

00:44:11.740 --> 00:44:14.840
Il existe juste la meilleure réponse et
parfois vous n'êtes même pas sûr.

00:44:14.840 --> 00:44:16.540
Je pense donc que trouver
ces informations

00:44:16.540 --> 00:44:20.370
et s'éduquer est
toujours la partie la plus difficile.

00:44:20.370 --> 00:44:21.770
Parce que vous ne voulez pas vous
tromper et vous ne voulez pas

00:44:21.770 --> 00:44:23.550
créer une mauvaise expérience
utilisateur.

00:44:23.550 --> 00:44:27.840
Et je pense que faire notre travail
alors qu'on découvrat

00:44:27.840 --> 00:44:28.510
ça a toujours été complexe.

00:44:28.510 --> 00:44:31.400
Et donc trouver de bonnes ressources
et s'assurer que vous obtenez

00:44:31.400 --> 00:44:33.500
meilleures informations, et
les plus à jour

00:44:33.500 --> 00:44:36.120
sur ce qui aide vraiment
de vrais utilisateurs.

00:44:36.120 --> 00:44:37.710
Je pense que c'était pour
moi la partie la plus difficile.

00:44:39.140 --> 00:44:40.320
AUROOBA : Je suisd'accord avec ça.

00:44:40.320 --> 00:44:44.010
Je crois que je l'ai comparé à l'écriture
d'un essai en anglais plus tôt dans la journée.

00:44:44.010 --> 00:44:45.570
Vous savez, le brief est clair.

00:44:45.570 --> 00:44:48.340
Nous pouvons tous écrivons un essai,
mais comment on y arrive réellement

00:44:48.340 --> 00:44:52.820
le résultat pourrait être très
différent selon votre approche.

00:44:52.820 --> 00:44:53.820
C'est juste.

00:44:55.780 --> 00:45:00.120
JULIE : Eh bien, merci d'avoir assisté
à cette séance avec Aurooba et Brian.

00:45:00.120 --> 00:45:05.370
Vous pouvez poursuivre la conversation
sur les réseaux sociaux en utilisant #WPA11YDAY

00:45:05.370 --> 00:45:08.000
et #WPAD2023.

00:45:08.000 --> 00:45:13.280
Nous apprécierions également
que vous y alliez

00:45:13.280 --> 00:45:20.160
à 2023.wpaccacces-
sibilityday/feedback

00:45:20.160 --> 00:45:21.280
pour fournir des commentaires anonymes

00:45:21.320 --> 00:45:23.317
pour nos intervenants sur
leur présentation

00:45:23.318 --> 00:45:25.950
et participez pour gagner un t-shirt
pendant que vous y êtes.

00:45:25.950 --> 00:45:29.390
Restez à l'écoute de Joni
Halabi, qui va

00:45:29.390 --> 00:45:32.810
pour parler de Tracer une route ! :

00:45:32.810 --> 00:45:35.720
Création de graphiques SVG accessibles
dans WordPress.

00:45:36.880 --> 00:45:39.870
N'oubliez pas de visiter
les pages de nos sponsors pour récupérer des cadeaux virtuels

00:45:39.870 --> 00:45:42.830
et participez pour tente votre chance
de gagner de superbes prix.

00:45:42.830 --> 00:45:45.370
Et on se retrouve
ici même après la pause.

00:45:48.500 --> 00:45:53.150
AMBER : Merci aux
sponsors de la Journée de l'accessibilité WordPress 2023.

00:45:53.150 --> 00:45:55.980
Sponsor Platine -
Equalize Digital.

00:45:55.980 --> 00:45:58.750
Plugin de vérification d'accessibilité
Equalize Digital

00:45:58.750 --> 00:46:01.510
est un
outil d'analyse d'accessibilité automatisé

00:46:01.510 --> 00:46:04.690
qui aide les sites Web WordPress
à devenir et à rester accessibles.

00:46:05.960 --> 00:46:08.810
Sponsor Platine - Gravity Forms.

00:46:08.810 --> 00:46:12.400
Gravity Forms est le
créateur de formulaires professionnel dont vous avez besoin.

00:46:12.400 --> 00:46:17.150
pour créer
de beaux formulaire, avancés et accessibles.

00:46:17.150 --> 00:46:24.160
Sponsors Or - 20i, Deque,
Empire Caption Solutions, Pressable,

00:46:24.160 --> 00:46:25.220
et WP Engine.

00:46:26.820 --> 00:46:33.670
Sponsors Argent - Code Geek, Drake
Cooper, GoDaddy, LoneRock Point,

00:46:33.670 --> 00:46:38.880
NerdPress, Overnight website de
Kinetic Iris, Raiola Networks,

00:46:40.210 --> 00:46:43.161
Collectif A11Y et The Blogsmith.

00:46:45.060 --> 00:46:50.400
Sponsors Bronze - ExcessaCart,
Hébergement Web GreenGeeks,

00:46:50.400 --> 00:47:01.660
Hall Analysis SEO Consulting,
HDC, ITX, Ivy Cat, MetaBox,

00:47:02.220 --> 00:47:07.118
Pixel Chefs, Simply Schedule
Appointments, SiteGround,

00:47:07.119 --> 00:47:12.250
Termageddon, nderrepresented
in Tech, Weglot, and Yoast.

